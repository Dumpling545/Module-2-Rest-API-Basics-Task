apply plugin: 'war'
def tomcat = '/home/user/Documents/apache-tomcat-8.5.66/'
war {
    archiveBaseName='gift-cert-sys'
}
task setAsTomcatWebApp(type: Copy, dependsOn: build) {
    from war.archivePath
    into '${tomcat}/webapps'
}

dependencies {
    api project(':service')

    compileOnly group: 'javax.servlet.jsp', name: 'jsp-api', version: jspApiVersion

    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-core', version: jacksonVersion
    implementation group: 'com.fasterxml.jackson.core', name: 'jackson-databind', version: jacksonVersion
    implementation group: 'com.fasterxml.jackson.datatype', name: 'jackson-datatype-jsr310', version: jacksonVersion
    implementation group: 'javax.servlet', name: 'jstl', version: jstlVersion
    implementation group: 'javax.servlet', name: 'javax.servlet-api', version: servletApiVersion
    implementation group: 'org.springframework', name: 'spring-web', version: springVersion
    implementation group: 'org.springframework', name: 'spring-webmvc', version: springVersion
    implementation project(':model')
}



tasks.named('test') {
    // Use junit platform for unit tests.
    useJUnitPlatform()
    testLogging {
        events 'passed', 'skipped', 'failed'
    }
}
